function w = Correct_w(w, N)
gamma = 1.4; Ma = 0.1; u_w = 1;

rho = w(:,:,1); 
u = w(:,:,2)./w(:,:,1); 
v = w(:,:,3)./w(:,:,1); 
E = w(:,:,4)./w(:,:,1);
P=(gamma-1).*rho.*(E-0.5.*(u.^2+v.^2));
T=(gamma-1).*(E-0.5.*(u.^2+v.^2));
T0 = (u_w/Ma)^2/(gamma); 

T(1,:) = T0; T(N,:) = T0; T(:,1) = T0; T(:,N) = T0;
u(1,:) = 0; u(N,:) = 1; u(:,1) = 0; u(:,N) = 0;
v(1,:) = 0; v(N,:) = 0; v(:,1) = 0; v(:,N) = 0;
P(1,:) = P(2,:); P(N,:) = P(N-1,:);
P(:,1) = P(:,2);P(:,N) = P(:,N-1);

rho = P./T;
E = P./((gamma-1).*rho)+0.5.*(u.^2+v.^2);

w(:,:,1) = rho; 
w(:,:,2) = rho.*u; 
w(:,:,3) = rho.*v; 
w(:,:,4) = rho.*E;
